<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Examen</title>
</head>
<body>

    <h1>Registro para el Examen</h1>

    <form id="registro-form">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required>

        <label for="apellidoPaterno">Apellido Paterno:</label>
        <input type="text" id="apellidoPaterno" required>

        <label for="apellidoMaterno">Apellido Materno:</label>
        <input type="text" id="apellidoMaterno" required>

        <label for="correo">Correo Institucional (@umich.mx):</label>
        <input type="email" id="correo" required>

        <label for="matricula">Matrícula:</label>
        <input type="text" id="matricula" required>

        <label for="seccion">Sección:</label>
        <select id="seccion" required>
            <option value="" selected disabled>Selecciona tu sección</option>
            <script>
                for (let i = 1; i <= 21; i++) {
                    document.write(`<option value="${i}">${i}</option>`);
                }
            </script>
        </select>

        <button type="button" onclick="iniciarExamen()">Iniciar Examen</button>
    </form>

    <script>
        function iniciarExamen() {
            const nombre = document.getElementById("nombre").value.trim();
            const apellidoPaterno = document.getElementById("apellidoPaterno").value.trim();
            const apellidoMaterno = document.getElementById("apellidoMaterno").value.trim();
            const correo = document.getElementById("correo").value.trim();
            const matricula = document.getElementById("matricula").value.trim();
            const seccion = document.getElementById("seccion").value;

            if (!nombre || !apellidoPaterno || !apellidoMaterno || !correo || !matricula || !seccion) {
                alert("Por favor, completa todos los campos.");
                return;
            }

            if (!correo.endsWith("@umich.mx")) {
                alert("El correo debe ser institucional (@umich.mx).");
                return;
            }

            // Guardar los datos en localStorage
            localStorage.setItem("nombreUsuario", nombre);
            localStorage.setItem("apellidoPaternoUsuario", apellidoPaterno);
            localStorage.setItem("apellidoMaternoUsuario", apellidoMaterno);
            localStorage.setItem("correoUsuario", correo);
            localStorage.setItem("matriculaUsuario", matricula);
            localStorage.setItem("seccionUsuario", seccion);

            window.location.href = "examen.html";
        }
    </script>

</body>
</html>
